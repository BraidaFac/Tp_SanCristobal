{"ast":null,"code":"import _asyncToGenerator from \"D:/Escritorio/Cursos/SanCristobal/FrontEnd/TP_Front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/persona.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../../shared/spinner/spinner.component\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\n\nfunction ActualizarComponent_mat_error_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Campo obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ActualizarComponent_mat_error_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Campo obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ActualizarComponent_mat_error_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Email invalido \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ActualizarComponent_mat_error_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Campo requerido \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ActualizarComponent_mat_error_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Campo obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ActualizarComponent_mat_error_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Campo obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ActualizarComponent_mat_error_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Campo obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return [\"\"];\n};\n\nexport class ActualizarComponent {\n  constructor(personService, router, activatedRoute, fb) {\n    this.personService = personService;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.fb = fb;\n    this.personForm = this.fb.group({\n      name: this.fb.nonNullable.control('', {\n        validators: [Validators.required]\n      }),\n      phoneNumber: this.fb.nonNullable.control('', {\n        validators: [Validators.required]\n      }),\n      email: this.fb.nonNullable.control('', {\n        validators: [Validators.required, Validators.email]\n      }),\n      address: this.fb.group({\n        street: this.fb.nonNullable.control('', {\n          validators: [Validators.required]\n        }),\n        number: this.fb.nonNullable.control('', {\n          validators: [Validators.required]\n        }),\n        city: this.fb.nonNullable.control('', {\n          validators: [Validators.required]\n        })\n      })\n    });\n    this.activatedRoute.data.subscribe(({\n      person\n    }) => {\n      console.log(person.id);\n      this.id = person.id;\n      this.personForm.controls.name.patchValue(person.name);\n      this.personForm.controls.phoneNumber.patchValue(person.phoneNumber);\n      this.personForm.controls.email.patchValue(person.email);\n      this.personForm.controls.address.controls.city.patchValue(person.address.city);\n      this.personForm.controls.address.controls.street.patchValue(person.address.street);\n      this.personForm.controls.address.controls.number.patchValue(person.address.number);\n    });\n  }\n\n  submit() {\n    var _this = this;\n\n    if (!this.personForm.valid) {\n      return;\n    }\n\n    this.changuePerson = this.personForm.value;\n    this.changuePerson.id = this.id;\n    this.personService.updatePerson(this.changuePerson).subscribe({\n      next: function () {\n        var _ref = _asyncToGenerator(function* (res) {\n          _this.alerta(\"Se ha modificado correctamente\");\n\n          _this.router.navigate(['']);\n        });\n\n        return function next(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      error: err => {\n        this.alerta(\"Error al actualizar\");\n        this.router.navigate(['']);\n      }\n    });\n  }\n\n  ngOnInit() {}\n\n  alerta(message) {\n    alert(message);\n  }\n\n}\n\nActualizarComponent.ɵfac = function ActualizarComponent_Factory(t) {\n  return new (t || ActualizarComponent)(i0.ɵɵdirectiveInject(i1.PersonaService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.FormBuilder));\n};\n\nActualizarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ActualizarComponent,\n  selectors: [[\"app-actualizar\"]],\n  decls: 42,\n  vars: 10,\n  consts: [[1, \"title\"], [1, \"personForm-div\"], [1, \"form-group\", 3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"fill\", 1, \"full-width\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"name\", \"placeholder\", \"Nombre\"], [4, \"ngIf\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"phoneNumber\", \"placeholder\", \"Celular\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"email\", \"placeholder\", \"ejemplo@gmail.com\"], [\"formGroupName\", \"address\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"city\", \"placeholder\", \"Ciudad\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"street\", \"placeholder\", \"Nombre de la calle\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"number\", \"placeholder\", \"Altura\"], [1, \"btns\"], [\"mat-raised-button\", \"\", \"type\", \"submit\", \"color\", \"primary\", 1, \"btn-sb\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 1, \"btn-sb\", 3, \"routerLink\", \"click\"]],\n  template: function ActualizarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-spinner\");\n      i0.ɵɵelementStart(1, \"h1\", 0);\n      i0.ɵɵtext(2, \"Actualizar persona\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function ActualizarComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵelementStart(5, \"mat-form-field\", 3)(6, \"mat-label\");\n      i0.ɵɵtext(7, \"Nombre y Apellido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 4);\n      i0.ɵɵtemplate(9, ActualizarComponent_mat_error_9_Template, 2, 0, \"mat-error\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"mat-form-field\", 3)(11, \"mat-label\");\n      i0.ɵɵtext(12, \"Telefono celular\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 6);\n      i0.ɵɵtemplate(14, ActualizarComponent_mat_error_14_Template, 2, 0, \"mat-error\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"mat-form-field\", 3)(16, \"mat-label\");\n      i0.ɵɵtext(17, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 7);\n      i0.ɵɵtemplate(19, ActualizarComponent_mat_error_19_Template, 2, 0, \"mat-error\", 5);\n      i0.ɵɵtemplate(20, ActualizarComponent_mat_error_20_Template, 2, 0, \"mat-error\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"form\", 8)(22, \"mat-form-field\", 3)(23, \"mat-label\");\n      i0.ɵɵtext(24, \"Ciudad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"input\", 9);\n      i0.ɵɵtemplate(26, ActualizarComponent_mat_error_26_Template, 2, 0, \"mat-error\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"mat-form-field\", 3)(28, \"mat-label\");\n      i0.ɵɵtext(29, \"Calle\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(30, \"input\", 10);\n      i0.ɵɵtemplate(31, ActualizarComponent_mat_error_31_Template, 2, 0, \"mat-error\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"mat-form-field\", 3)(33, \"mat-label\");\n      i0.ɵɵtext(34, \"Altura de la calle\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(35, \"input\", 11);\n      i0.ɵɵtemplate(36, ActualizarComponent_mat_error_36_Template, 2, 0, \"mat-error\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(37, \"div\", 12)(38, \"button\", 13);\n      i0.ɵɵtext(39, \"Agregar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function ActualizarComponent_Template_button_click_40_listener() {\n        return ctx.alerta(\"se ha modificado\");\n      });\n      i0.ɵɵtext(41, \"Volver atras\");\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      let tmp_3_0;\n      let tmp_4_0;\n      let tmp_5_0;\n      let tmp_6_0;\n      let tmp_7_0;\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.personForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx.personForm.get(\"name\")) == null ? null : tmp_1_0.hasError(\"required\"));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx.personForm.get(\"phoneNumber\")) == null ? null : tmp_2_0.hasError(\"required\"));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.personForm.get(\"email\")) == null ? null : tmp_3_0.hasError(\"email\")) && !((tmp_3_0 = ctx.personForm.get(\"email\")) == null ? null : tmp_3_0.hasError(\"required\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (tmp_4_0 = ctx.personForm.get(\"email\")) == null ? null : tmp_4_0.hasError(\"required\"));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", (tmp_5_0 = ctx.personForm.get(\"address.city\")) == null ? null : tmp_5_0.hasError(\"required\"));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", (tmp_6_0 = ctx.personForm.get(\"address.street\")) == null ? null : tmp_6_0.hasError(\"required\"));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", (tmp_7_0 = ctx.personForm.get(\"address.number\")) == null ? null : tmp_7_0.hasError(\"required\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c0));\n    }\n  },\n  dependencies: [i4.NgIf, i5.SpinnerComponent, i2.RouterLink, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i3.FormGroupName, i6.MatButton, i7.MatError, i7.MatFormField, i7.MatLabel, i8.MatInput],\n  styles: [\".form-group[_ngcontent-%COMP%] {\\r\\n  min-width: 150px;\\r\\n  max-width: 400px;\\r\\n  width: 100%;\\r\\n\\r\\n  border: solid 1px rgb(104, 7, 7) ;\\r\\n  padding: 5px;\\r\\n  box-shadow: 2px 2px 2px rgb(104, 7, 7) ;\\r\\n}\\r\\n\\r\\n.full-width[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.personForm-div[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.btn-sb[_ngcontent-%COMP%]{\\r\\n  display: inline-block;\\r\\n  margin-top: 1rem;\\r\\n  margin-bottom: 1rem;\\r\\n}\\r\\n\\r\\n.btns[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  justify-content: space-around;\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjdHVhbGl6YXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsV0FBVzs7RUFFWCxpQ0FBaUM7RUFDakMsWUFBWTtFQUNaLHVDQUF1QztBQUN6Qzs7QUFFQTtFQUNFLFdBQVc7QUFDYjs7QUFDQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0FBQ3JCOztBQUNBO0VBQ0UscUJBQXFCO0VBQ3JCLGdCQUFnQjtFQUNoQixtQkFBbUI7QUFDckI7O0FBQ0E7RUFDRSxhQUFhO0VBQ2IsNkJBQTZCOztBQUUvQiIsImZpbGUiOiJhY3R1YWxpemFyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1ncm91cCB7XHJcbiAgbWluLXdpZHRoOiAxNTBweDtcclxuICBtYXgtd2lkdGg6IDQwMHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG5cclxuICBib3JkZXI6IHNvbGlkIDFweCByZ2IoMTA0LCA3LCA3KSA7XHJcbiAgcGFkZGluZzogNXB4O1xyXG4gIGJveC1zaGFkb3c6IDJweCAycHggMnB4IHJnYigxMDQsIDcsIDcpIDtcclxufVxyXG5cclxuLmZ1bGwtd2lkdGgge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcbi5wZXJzb25Gb3JtLWRpdntcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuLmJ0bi1zYntcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgbWFyZ2luLXRvcDogMXJlbTtcclxuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG59XHJcbi5idG5ze1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcblxyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormBuilder","Validators","ActivatedRoute","Router","i0","ActualizarComponent","constructor","personService","router","activatedRoute","fb","group","name","nonNullable","control","validators","required","phoneNumber","email","address","street","number","city","data","subscribe","person","console","log","id","personForm","controls","patchValue","submit","valid","changuePerson","value","updatePerson","next","res","alerta","navigate","error","err","ngOnInit","message","alert","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Escritorio\\Cursos\\SanCristobal\\FrontEnd\\TP_Front\\src\\app\\modules\\Events\\Components\\Persona\\actualizar\\actualizar.component.ts","D:\\Escritorio\\Cursos\\SanCristobal\\FrontEnd\\TP_Front\\src\\app\\modules\\Events\\Components\\Persona\\actualizar\\actualizar.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { IPersona } from '../ipersona';\nimport { PersonaService } from '../Services/persona.service';\n\n@Component({\n  selector: 'app-actualizar',\n  templateUrl: './actualizar.component.html',\n  styleUrls: ['./actualizar.component.css']\n})\nexport class ActualizarComponent implements OnInit {\n  id!:number;\n  changuePerson!:IPersona;\n    constructor(private personService: PersonaService, private router:Router, private activatedRoute :ActivatedRoute, private fb :FormBuilder) {\n      this.activatedRoute.data.subscribe(({ person }) => {\n        console.log(person.id)\n        this.id=person.id;\n\n        this.personForm.controls.name.patchValue(person.name);\n        this.personForm.controls.phoneNumber.patchValue(person.phoneNumber);\n        this.personForm.controls.email.patchValue(person.email)\n        this.personForm.controls.address.controls.city.patchValue(person.address.city);\n        this.personForm.controls.address.controls.street.patchValue(person.address.street);\n        this.personForm.controls.address.controls.number.patchValue(person.address.number);\n      })\n\n\n\n}\n\npersonForm=this.fb.group({\n  name: this.fb.nonNullable.control('', {\n    validators: [Validators.required],\n  }),\n  phoneNumber:this.fb.nonNullable.control('',{\n    validators:[Validators.required]})\n  ,\n  email:this.fb.nonNullable.control('',{\n    validators:[Validators.required,Validators.email]})\n  ,\n  address: this.fb.group({\n    street: this.fb.nonNullable.control('',{\n      validators:[Validators.required]\n    }),\n    number: this.fb.nonNullable.control('',{\n      validators:[Validators.required]\n    }),\n    city: this.fb.nonNullable.control('',{\n      validators:[Validators.required]\n    }),\n\n  })})\n\nsubmit(){\n  if(!this.personForm.valid){\n    return\n  }\n  this.changuePerson=this.personForm.value;\n  this.changuePerson.id=this.id;\n\n  this.personService.updatePerson(this.changuePerson).subscribe({\n    next: async res=>{this.alerta(\"Se ha modificado correctamente\");\n                      this.router.navigate(['']);},\n  error: err=>{ this.alerta(\"Error al actualizar\");\n                this.router.navigate([''])}\n  });\n\n}\n\nngOnInit(): void {\n\n\n\n  }\n\nalerta(message:string) {\n  alert(message);\n\n}\n}\n\n","<app-spinner></app-spinner>\n<h1 class=\"title\">Actualizar persona</h1>\n<div class=\"personForm-div\">\n\n  <form class=\"form-group\" [formGroup]=\"personForm\" (ngSubmit)=\"submit()\">\n    <mat-form-field class=\"full-width\" appearance=\"fill\">\n      <mat-label>Nombre y Apellido</mat-label>\n      <input type=\"text\" matInput formControlName=\"name\" placeholder=\"Nombre\">\n      <mat-error *ngIf=\"personForm.get('name')?.hasError('required')\">\n        Campo  obligatorio\n      </mat-error>\n    </mat-form-field>\n    <mat-form-field class=\"full-width\" appearance=\"fill\">\n      <mat-label>Telefono celular</mat-label>\n      <input type=\"text\" matInput formControlName=\"phoneNumber\" placeholder=\"Celular\">\n      <mat-error *ngIf=\"personForm.get('phoneNumber')?.hasError('required')\">\n        Campo obligatorio\n      </mat-error>\n    </mat-form-field>\n    <mat-form-field class=\"full-width\" appearance=\"fill\">\n      <mat-label>Email</mat-label>\n      <input type=\"text\" matInput formControlName=\"email\" placeholder=\"ejemplo@gmail.com\">\n      <mat-error *ngIf=\"personForm.get('email')?.hasError('email') && !personForm.get('email')?.hasError('required')\">\n        Email invalido\n      </mat-error>\n      <mat-error *ngIf=\"personForm.get('email')?.hasError('required')\">\n        Campo requerido\n      </mat-error>\n    </mat-form-field>\n\n      <form formGroupName=\"address\" >\n        <mat-form-field class=\"full-width\" appearance=\"fill\">\n          <mat-label>Ciudad</mat-label>\n          <input type=\"text\" matInput formControlName=\"city\" placeholder=\"Ciudad\">\n          <mat-error *ngIf=\"personForm.get('address.city')?.hasError('required')\">\n            Campo obligatorio\n          </mat-error>\n        </mat-form-field>\n        <mat-form-field class=\"full-width\" appearance=\"fill\">\n          <mat-label>Calle</mat-label>\n          <input type=\"text\" matInput formControlName=\"street\" placeholder=\"Nombre de la calle\">\n          <mat-error *ngIf=\"personForm.get('address.street')?.hasError('required')\">\n            Campo obligatorio\n          </mat-error>\n        </mat-form-field>\n        <mat-form-field class=\"full-width\" appearance=\"fill\">\n          <mat-label>Altura de la calle</mat-label>\n          <input type=\"text\" matInput formControlName=\"number\" placeholder=\"Altura\">\n          <mat-error *ngIf=\"personForm.get('address.number')?.hasError('required')\">\n            Campo obligatorio\n          </mat-error>\n        </mat-form-field>\n      </form>\n      <div class=\"btns\">\n        <button mat-raised-button class=\"btn-sb\"type=\"submit\" color=\"primary\">Agregar</button>\n        <button  [routerLink]=\"['']\"  (click)=\"alerta('se ha modificado')\"class=\"btn-sb\" mat-raised-button color=\"warn\">Volver atras</button>\n      </div>\n  </form>\n</div>\n"]},"metadata":{},"sourceType":"module"}